# Verify Build Artifacts Process Template

A process template that will:

- Take a package with an SBOM and scan it for high or critical third-party vulnerabilities.
- Check GitHub Dependabot for any high or critical third-party vulnerabilities.
- Scan any docker containers for high or critical third-party vulnerabilities.
- Verify the attestation generated by `GitHub` of the SBOM and docker container.

## Use Case

The purpose of this process template is to help achieve SLSA Level 3 compliance within a CI/CD pipeline.  There is always a period of time between when a package or container is built and when it is deployed to production.  By running these checks prior to deployment we can ensure: 

- No critical or high vulnerabilities are deployed to production.
- The build artifacts have not been tampered with.
- We can attest to the provenance of the build artifacts for auditing.

## Assumptions Made

This template was designed with the following assumptions:

1. You are using GitHub as your VCS system.
2. You want to use `Trivy` as the tool to scan SBOMs and SBOM is in a format `Trivy` understands.
3. You have configured GitHub's Dependabot and alerts.
4. The K8s cluster hosting the worker and the deployment target are the same cluster.
5. You are using sending the build information up to Octopus Deploy from GHA using the create-build-information GitHub action.

## Expected Changes

There were a lot of assumptions made when creating this process template.  The authors are under no illusions you'll be able to use this as-is right out the box.

1. Update the template to send in packages / containers as parameters instead of relying on conventions.  See steps 1 and 4.
2. Removing the check against GitHub's dependabot.
3. Updating the attestation verification check to use something other than GitHub.

Suggestion is to use this template as a guideline to your own SLSA Level 3 verification within Octopus.

